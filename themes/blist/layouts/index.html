{{ define "main" }} {{ $sliderImages := .Site.Params.sliders.images }} {{ if len
$sliderImages }}
<div class="hero-container py-6">
  <div
    class="swiper-container swiper-background overflow-hidden rounded-3xl relative"
    style="width: 80%; z-index: 7; position: relative; margin-left: auto; margin-right: auto;"
  >
    <div class="swiper-wrapper">
      {{ range $sliderImages }}
      <div class="swiper-slide">
        <img src="{{ "sliders/" | relURL }}{{ .url }}" alt="Slider Image"
        class="w-full h-auto object-cover rounded-3xl">
      </div>
      {{ end }}
    </div>
    <div class="swiper-agenda-pagination" style="z-index: 10"></div>
  </div>
  <div
    class="absolute my-4 z-6 bg-customGreen rounded-r-3xl p-6"
    style="width: 96vw; height: 22vw; top: 18%; left: 0; z-index: 3"
  >
  </div>
  <div
    class="absolute my-4 z-6 bg-customYellow rounded-3xl p-6"
    style="width: 48vw; height: 27vw; top: 28%; right: 6%; z-index: 4; opacity: 0.8"
  >
  </div>
</div>
<style>
  .swiper-agenda-pagination {
    position: absolute;
    bottom: 0;
    padding-left: 15px;
    gap: 15px;
    z-index: 10;
  }

  .swiper-agenda-pagination .swiper-pagination-bullet {
    width: 15px;
    height: 15px;
    border: 2px solid #03a055; /* customDarkGreen for stroke */
    background-color: transparent;
    opacity: 1;
    border-radius: 50%;
    transition: background-color 0.3s, transform 0.3s;
  }

  .swiper-agenda-pagination .swiper-pagination-bullet-active {
    background-color: #03a055; /* customGreen for active bullet */
    opacity: 1;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var swiper = new Swiper(".swiper-background", {
      effect: "creative",
      creativeEffect: {
        prev: {
          shadow: true,
          translate: [0, 0, -400],
        },
        next: {
          translate: ["100%", 0, 0],
        },
      },
      loop: true,
      centeredSlides: true,
      slidesPerView: 1,
      spaceBetween: 0,
      pagination: {
        el: ".swiper-agenda-pagination",
        clickable: true,
        bulletClass: "swiper-pagination-bullet",
        bulletActiveClass: "swiper-pagination-bullet-active",
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
    });
  });
</script>
{{ end }}

<div class="py-6">
  <div class="container container-menu mx-0 px-48 flex flex-wrap justify-between">
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/aplikasi-pusat.png" | relURL }}" alt="Aplikasi Pusat" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Aplikasi Pusat</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/layanan.png" | relURL }}" alt="Layanan" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Layanan</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/aplikasi-daerah.png" | relURL }}" alt="Aplikasi Daerah" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Aplikasi Daerah</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/diskominfo-informasi.png" | relURL }}" alt="Diskominfo Informasi" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Diskominfo Informasi</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/website-terkait.png" | relURL }}" alt="Website Terkait" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Website Terkait</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/ppid.png" | relURL }}" alt="PPID" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">PPID</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/csirt.png" | relURL }}" alt="CSIRT" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">CSIRT</span>
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 100px; height: 100px; overflow: hidden;">
      <img src="{{ "icon/diskominfo-profil-dinas.png" | relURL }}" alt="Diskominfo Profil Dinas" style="height: 60%; max-height: 100%; width: auto; object-fit: contain;">
      <span class="text-xs text-white text-center" style="width: 100%;">Diskominfo Profil Dinas</span>
    </div>
  </div>
</div>

<div class="container mx-auto p-4">
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-0">
    <!-- Agenda Section -->
    {{ $agenda := .Site.Params.agenda }}
    {{ if $agenda }}
    <div class="agenda-container bg-white rounded-l-3xl shadow">
      <h2 class="text-2xl text-white mb-4 p-4 text-center bg-customGreen rounded-tl-3xl">
      Agenda
    </h2>
    <div class="flex flex-col overflow-auto m-4" style="max-height: 450px;">
      {{ range $agenda }}
      <div class="border border-customGreen rounded-lg p-4 bg-white mb-4 flex justify-between items-center relative">
      <div class="absolute inset-0 left-14 transform -translate-x-1/2 w-px bg-customGreen z-10"></div>
      <div class="text-center bg-white border border-customGreen rounded-lg p-2 w-20 z-20" data-day="{{ .hari }}">
        <p class="text-lg font-bold">
        <!-- Tanggal akan diisi oleh script -->
        </p>
      </div>
      <div class="ml-4 flex-1">
        <p class="text-sm">
        {{ .judul }}
        </p>
          <div class="flex items-center text-gray-600 text-sm mt-2">
          <i class="far fa-clock mr-2"></i>
          {{ .jamMulai }} - {{ .jamSelesai }}
          <i class="fas fa-map-marker-alt ml-4 mr-2"></i>
          {{ .lokasi }}
          </div>
        </div>
      </div>
      {{ end }}
    </div>
    </div>
    {{ end }}
    <script>
      function getCurrentDate(day) {
        const today = new Date();
        const dayIndex = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"].indexOf(day);
        const currentDayIndex = today.getDay();

        const startOfWeek = today.getDate() - currentDayIndex;
        
        // Tentukan offset: jika hari yang diinginkan sudah lewat, tambahkan 7 hari untuk minggu depan
        const dayOffset = (dayIndex < currentDayIndex) ? 7 : 0;

        const dateForDay = new Date(today.setDate(startOfWeek + dayIndex + dayOffset));
        
        return `${dateForDay.getDate()} ${dateForDay.toLocaleString('id-ID', { month: 'short' })} ${dateForDay.getFullYear()}`;
      }

      document.querySelectorAll('[data-day]').forEach(element => {
        const day = element.getAttribute('data-day');
        if (day) {
          element.textContent = getCurrentDate(day);
        }
      });
    </script>
    <!-- Berita Terkini Section -->
    <div class="berita-container bg-white shadow p-4 col-span-2">
     <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl text-gray-800">
       Berita Terkini
      </h2>
      <button class="text-sm text-gray-600 border border-gray-600 rounded-full px-4 py-1 flex items-center">
       Berita Lainnya
       <i class="fas fa-external-link-alt ml-2"></i>
      </button>
     </div>
     <div class="relative mb-8">
      <div class="absolute left-0 top-1/2 transform -translate-y-1/2 w-1/2 h-1 bg-customGreen"></div>
      <div class="absolute left-1/2 top-1/2 transform -translate-y-1/2 w-4 h-4 bg-customGreen rounded-full"></div>
     </div>
     <div class="space-y-4">
      <div class="relative">
       <img alt="News Image" class="w-full h-64 object-cover rounded-lg" height="400" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="600"/>
       <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-4 rounded-b-lg w-full">
        <h3 class="text-lg font-bold">
         Perkuat Keamanan Informasi Aplikasi Pemerintahan, Diskominfo Kalbar Gelar Sosialisasi Kategorisasi
        </h3>
        <div class="flex items-center text-sm mt-2">
         <i class="far fa-calendar-alt mr-2"></i>
         6 December 2024
         <i class="fas fa-user ml-4 mr-2"></i>
         Author
        </div>
       </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
       <div class="relative">
        <img alt="News Image" class="w-full h-32 object-cover rounded-lg" height="200" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="300"/>
        <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-2 rounded-b-lg w-full">
         <h3 class="text-sm font-bold">
          Diskominfo Kalbar Rapat Evaluasi Data Statistik Sektoral
         </h3>
         <div class="flex items-center text-xs mt-1">
          <i class="far fa-calendar-alt mr-1"></i>
          6 December 2024
          <i class="fas fa-user ml-2 mr-1"></i>
          Author
         </div>
        </div>
       </div>
       <div class="relative">
        <img alt="News Image" class="w-full h-32 object-cover rounded-lg" height="200" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="300"/>
        <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-2 rounded-b-lg w-full">
         <h3 class="text-sm font-bold">
          Diskominfo Kalbar Rapat Evaluasi Data Statistik Sektoral
         </h3>
         <div class="flex items-center text-xs mt-1">
          <i class="far fa-calendar-alt mr-1"></i>
          6 December 2024
          <i class="fas fa-user ml-2 mr-1"></i>
          Author
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="flex flex-col">
      <div class="p-2" style="max-width: 780px;">
        <script type="text/javascript" src="https://widget.kominfo.go.id/gpr-widget-kominfo.min.js" defer></script>
        <div id="gpr-kominfo-widget-container"></div>
      </div>
    </div>
    
    <style>
      /* Elemen Container */
      #gpr-kominfo-widget-container {
        background-color: #03a055 !important;
        border-top: 5px solid #03a055 !important;
        border-radius: 5px !important;
      }

      /* Elemen Header */
      #gpr-kominfo-widget-header {
        background-color: #03a055 !important;
        background-image: none !important; 
        border-left: 6px solid #03a055 !important;
        color: #ffffff !important;
        text-align: center; /* Opsional */
        font-size: 18px; /* Ukuran teks */
        font-weight: bold; /* Ketebalan teks */
        line-height: 70px; /* Sesuaikan tinggi teks dengan tinggi header */
      }

      #gpr-kominfo-widget-header::before {
        content: "Artikel GPR Info"; 
        font-family: 'Poppins', sans-serif;
        font-size: 1.5rem;
        line-height: 2rem;
        font-weight: normal;
      }

      .gpr-kominfo-align-left b,.gpr-kominfo-align-right.gpr-small-date {
        color: #03a055 !important;
      }

  </style>
{{ end }}