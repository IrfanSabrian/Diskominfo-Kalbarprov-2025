{{ define "main" }} {{ $sliderImages := .Site.Params.sliders.images }} {{ if len
$sliderImages }}
<div class="hero-container py-9">
  <div
    class="swiper-container swiper-background overflow-hidden rounded-3xl relative"
    style="width: 70%; z-index: 7; position: relative; margin-left: auto; margin-right: auto;"
  >
    <div class="swiper-wrapper">
      {{ range $sliderImages }}
      <div class="swiper-slide">
        <img src="{{ "sliders/" | relURL }}{{ .url }}" alt="Slider Image"
        class="w-full h-auto object-cover rounded-3xl">
      </div>
      {{ end }}
    </div>
    <div class="swiper-agenda-pagination" style="z-index: 10"></div>
  </div>
  <div
    class="absolute my-4 z-6 bg-customGreen rounded-r-3xl p-6"
    style="width: 90vw; height: 23vw; top: 18%; left: 0; z-index: 3"
  >
  </div>
  <div
    class="absolute my-4 z-6 bg-customYellow rounded-3xl p-6"
    style="width: 45vw; height: 25vw; top: 28%; right: 12%; z-index: 4; opacity: 0.8"
  >
  </div>
</div>
<style>
  .swiper-agenda-pagination {
    position: absolute;
    bottom: 0;
    padding-left: 15px;
    gap: 15px;
    z-index: 10;
  }

  .swiper-agenda-pagination .swiper-pagination-bullet {
    width: 15px;
    height: 15px;
    border: 2px solid #03a055; /* customDarkGreen for stroke */
    background-color: transparent;
    opacity: 1;
    border-radius: 50%;
    transition: background-color 0.3s, transform 0.3s;
  }

  .swiper-agenda-pagination .swiper-pagination-bullet-active {
    background-color: #03a055; /* customGreen for active bullet */
    opacity: 1;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var swiper = new Swiper(".swiper-background", {
      effect: "creative",
      creativeEffect: {
        prev: {
          shadow: true,
          translate: [0, 0, -400],
        },
        next: {
          translate: ["100%", 0, 0],
        },
      },
      loop: true,
      centeredSlides: true,
      slidesPerView: 1,
      spaceBetween: 0,
      pagination: {
        el: ".swiper-agenda-pagination",
        clickable: true,
        bulletClass: "swiper-pagination-bullet",
        bulletActiveClass: "swiper-pagination-bullet-active",
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      autoplay: {
        delay: 2500,
        disableOnInteraction: false,
      },
    });
  });
</script>
{{ end }}

<div class="py-1 px-6">
  <div
    class="container mx-auto grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-4 justify-items-center"
    style="padding-left: 20%; padding-right: 20%;"
  >
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/aplikasi-pusat.png" | relURL }}" alt="Aplikasi Pusat"
      class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Aplikasi Pusat</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/layanan.png" | relURL }}" alt="Layanan" 
      class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Layanan</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/aplikasi-daerah.png" | relURL }}" alt="Aplikasi Daerah"
      class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Aplikasi Daerah</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/diskominfo-informasi.png" | relURL }}" alt="Diskominfo Informasi" class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Diskominfo Informasi</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
  </div>
  <div
    class="container mx-auto grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-4 mt-4 justify-items-center"
    style="padding-left: 20%; padding-right: 20%;"
  >
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/website-terkait.png" | relURL }}" alt="Website Terkait"
      class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Website Terkait</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/ppid.png" | relURL }}" alt="PPID" class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">PPID</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/csirt.png" | relURL }}" alt="CSIRT" class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">CSIRT</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
    <div class="flex flex-col items-center justify-center bg-customGreen rounded-xl p-2" style="z-index: 5; width: 150px; height: 150px;">
      <img src="{{ "icon/diskominfo-profil-dinas.png" | relURL }}"
      alt="Diskominfo Profil Dinas" class="h-20"> <!-- Gambar diperbesar menjadi sekitar 70% dari tinggi kotak -->
      <span class="text-base text-white text-center mt-1">Diskominfo Profil Dinas</span> <!-- Ukuran teks diperbesar dan diatur ke tengah -->
    </div>
  </div>
</div>

<div class="container mx-auto p-4">
   <div class="grid grid-cols-1 lg:grid-cols-3 gap-0">
    <!-- Agenda Section -->
    {{ $agenda := .Site.Params.agenda }}
    {{ if $agenda }}
    <div class="bg-customGreen rounded-xl shadow-2xl p-4 swiper-container-agenda">
     <h2 class="text-2xl font-bold text-white mb-4 text-center">
      Agenda
     </h2>
     <div class="swiper-wrapper-agenda">
      {{ range $agenda }}
      <div class="swiper-slide-agenda border border-customGreen rounded-lg p-4 bg-white">
       <div class="flex items-center mb-2">
        <div class="text-center bg-white border border-customGreen rounded-lg p-2 w-32" data-day="{{ .hari }}">
         <p class="text-lg font-bold">
          <!-- Tanggal akan diisi oleh script -->
         </p>
        </div>
        <div class="ml-4">
         <p class="text-sm">
          {{ .judul }}
         </p>
         <div class="flex items-center text-gray-600 text-sm mt-2">
          <i class="far fa-clock mr-2"></i>
          {{ .jamMulai }} - {{ .jamSelesai }}
          <i class="fas fa-map-marker-alt ml-4 mr-2"></i>
          {{ .lokasi }}
         </div>
        </div>
       </div>
      </div>
      {{ end }}
     </div>
     <div class="swiper-button-next-agenda"></div>
     <div class="swiper-button-prev-agenda"></div>
     <div class="swiper-pagination-agenda"></div>
    </div>
    {{ end }}
    <script>
      var swiperAgenda = new Swiper('.swiper-container-agenda', {
        direction: 'vertical',
        slidesPerView: 3,
        spaceBetween: 30,
        slidesPerGroup: 3,
        loop: false,
        loopFillGroupWithBlank: true,
        pagination: {
          el: '.swiper-pagination-agenda',
          clickable: true,
        },
        navigation: {
          nextEl: '.swiper-button-next-agenda',
          prevEl: '.swiper-button-prev-agenda',
        },
        autoplay: {
          delay: 2500,
          disableOnInteraction: false,
        },
      });
    </script>
    <script>
      function getCurrentDate(day) {
        const today = new Date();
        const dayIndex = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"].indexOf(day);
        const currentDayIndex = today.getDay();

        const startOfWeek = today.getDate() - currentDayIndex;
        
        // Tentukan offset: jika hari yang diinginkan sudah lewat, tambahkan 7 hari untuk minggu depan
        const dayOffset = (dayIndex < currentDayIndex) ? 7 : 0;

        const dateForDay = new Date(today.setDate(startOfWeek + dayIndex + dayOffset));
        
        return `${dateForDay.getDate()} ${dateForDay.toLocaleString('id-ID', { month: 'short' })} ${dateForDay.getFullYear()}`;
      }

      document.querySelectorAll('[data-day]').forEach(element => {
        const day = element.getAttribute('data-day');
        if (day) {
          element.textContent = getCurrentDate(day);
        }
      });
    </script>
    <!-- Berita Terkini Section -->
    <div class="bg-white rounded-lg shadow p-4 col-span-2">
     <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-bold text-gray-800">
       Berita Terkini
      </h2>
      <button class="text-sm text-gray-600 border border-gray-600 rounded-full px-4 py-1 flex items-center">
       Berita Lainnya
       <i class="fas fa-external-link-alt ml-2"></i>
      </button>
     </div>
     <div class="relative mb-8">
      <div class="absolute left-0 top-1/2 transform -translate-y-1/2 w-1/2 h-1 bg-customGreen"></div>
      <div class="absolute right-[calc(50%-8px)] top-1/2 transform -translate-y-1/2 w-4 h-4 bg-customGreen rounded-full"></div>
     </div>
     <div class="space-y-4">
      <div class="relative">
       <img alt="News Image" class="w-full h-64 object-cover rounded-lg" height="400" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="600"/>
       <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-4 rounded-b-lg w-full">
        <h3 class="text-lg font-bold">
         Perkuat Keamanan Informasi Aplikasi Pemerintahan, Diskominfo Kalbar Gelar Sosialisasi Kategorisasi
        </h3>
        <div class="flex items-center text-sm mt-2">
         <i class="far fa-calendar-alt mr-2"></i>
         6 December 2024
         <i class="fas fa-user ml-4 mr-2"></i>
         Author
        </div>
       </div>
      </div>
      <div class="grid grid-cols-2 gap-4">
       <div class="relative">
        <img alt="News Image" class="w-full h-32 object-cover rounded-lg" height="200" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="300"/>
        <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-2 rounded-b-lg w-full">
         <h3 class="text-sm font-bold">
          Diskominfo Kalbar Rapat Evaluasi Data Statistik Sektoral
         </h3>
         <div class="flex items-center text-xs mt-1">
          <i class="far fa-calendar-alt mr-1"></i>
          6 December 2024
          <i class="fas fa-user ml-2 mr-1"></i>
          Author
         </div>
        </div>
       </div>
       <div class="relative">
        <img alt="News Image" class="w-full h-32 object-cover rounded-lg" height="200" src="https://storage.googleapis.com/a1aa/image/VkcKBe34ha2BGSC8S0CxNT2xOp3DozcegfQpjdlsSVPKUi6nA.jpg" width="300"/>
        <div class="absolute bottom-0 left-0 bg-black bg-opacity-50 text-white p-2 rounded-b-lg w-full">
         <h3 class="text-sm font-bold">
          Diskominfo Kalbar Rapat Evaluasi Data Statistik Sektoral
         </h3>
         <div class="flex items-center text-xs mt-1">
          <i class="far fa-calendar-alt mr-1"></i>
          6 December 2024
          <i class="fas fa-user ml-2 mr-1"></i>
          Author
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <!-- Artikel GPR Kominfo Section -->
    <div class="bg-customGreen rounded-lg shadow p-4">
     <h2 class="text-2xl font-bold text-white mb-4 text-center">
      Artikel GPR Kominfo
     </h2>
     <div class="border border-customGreen rounded-lg p-4 bg-white">
      <div class="flex items-center mb-4 border-b border-gray-300 pb-4">
       <img alt="Article Image" class="w-12 h-12 object-cover rounded-lg mr-4" height="50" src="https://storage.googleapis.com/a1aa/image/YdxV2xkZgabuMdyBaLUTQe6YqX4sErOF5rIq9UwsQP6BloeTA.jpg" width="50"/>
       <div class="flex-grow">
        <div class="flex justify-between">
         <p class="text-sm font-bold text-customGreen">
          Artikel
         </p>
         <p class="text-xs text-gray-600">
          26-11-2024 14:53
         </p>
        </div>
        <p class="text-sm">
         Belasan Ribu Konten Diturunkan Setiap Hari, Kemkomdigi Perkuat Pengawasan Berantas Judol
        </p>
       </div>
      </div>
      <div class="flex items-center mb-4 border-b border-gray-300 pb-4">
       <img alt="Article Image" class="w-12 h-12 object-cover rounded-lg mr-4" height="50" src="https://storage.googleapis.com/a1aa/image/YdxV2xkZgabuMdyBaLUTQe6YqX4sErOF5rIq9UwsQP6BloeTA.jpg" width="50"/>
       <div class="flex-grow">
        <div class="flex justify-between">
         <p class="text-sm font-bold text-customGreen">
          Artikel
         </p>
{{ end }}